<!DOCTYPE html>
<html lang="zh">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>MySQL å¸¸ç”¨å‘½ä»¤é€ŸæŸ¥è¡¨</title>

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/github-dark.min.css">
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
<script>hljs.highlightAll();</script>

<link rel="stylesheet" href="style.css">
<script src="header.js"></script>
<script src="script.js"></script>
</head>
<body>
<script>
// å¦‚æœæœªéªŒè¯è¿‡å¯†ç ï¼Œåˆ™è·³å› secret.html
if (!sessionStorage.getItem("authenticated")) {
    window.location.href = "secret.html";
}
</script>

<div id="navbar-placeholder"></div>

<div class="container">

<h1>MySQL å¸¸ç”¨å‘½ä»¤é€ŸæŸ¥è¡¨</h1>

<div id="toc">
<h2>ğŸ“Œ å¿«é€Ÿå¯¼èˆª</h2>
<ul>
    <li><a href="#conn">ä¸€ã€è¿æ¥ä¸é€€å‡º</a></li>
    <li><a href="#db">äºŒã€æ•°æ®åº“æ“ä½œ</a></li>
    <li><a href="#table">ä¸‰ã€æ•°æ®è¡¨æ“ä½œ</a></li>
    <li><a href="#crud">å››ã€æ•°æ®å¢åˆ æ”¹æŸ¥</a></li>
    <li><a href="#index">äº”ã€ç´¢å¼•æ“ä½œ</a></li>
    <li><a href="#user">å…­ã€ç”¨æˆ·æƒé™ç®¡ç†</a></li>
    <li><a href="#import">ä¸ƒã€æ•°æ®å¯¼å…¥å¯¼å‡º</a></li>
    <li><a href="#status">å…«ã€ç³»ç»Ÿä¿¡æ¯æŸ¥è¯¢</a></li>
</ul>
</div>

<hr>

<h2 id="conn">ä¸€ã€è¿æ¥ä¸é€€å‡º</h2>
<pre><code class="language-bash">mysql -u ç”¨æˆ·å -p   # æœ¬åœ°è¿æ¥ MySQLï¼Œä¼šæç¤ºè¾“å…¥å¯†ç </code></pre>
<pre><code class="language-bash">mysql -h ä¸»æœºip -u ç”¨æˆ·å -p   # è¿œç¨‹è¿æ¥ MySQLï¼Œéœ€è¦ç½‘ç»œå’Œæƒé™</code></pre>
<pre><code class="language-bash">exit   # é€€å‡º MySQL å®¢æˆ·ç«¯ï¼Œè¿”å›ç³»ç»Ÿå‘½ä»¤è¡Œ</code></pre>

<h2 id="db">äºŒã€æ•°æ®åº“æ“ä½œ</h2>
<pre><code class="language-sql">show databases;   -- åˆ—å‡ºæ‰€æœ‰æ•°æ®åº“ï¼Œæ–¹ä¾¿æŸ¥çœ‹å¯ç”¨æ•°æ®åº“</code></pre>
<pre><code class="language-sql">create database dbname;   -- åˆ›å»ºæ–°æ•°æ®åº“ï¼Œé»˜è®¤å­—ç¬¦é›†å¯èƒ½æ˜¯ latin1</code></pre>
<pre><code class="language-sql">create database dbname character set utf8mb4;   -- åˆ›å»ºæ•°æ®åº“å¹¶æŒ‡å®šå­—ç¬¦é›†ä¸º utf8mb4ï¼Œæ”¯æŒä¸­æ–‡å’Œ emoji</code></pre>
<pre><code class="language-sql">use dbname;   -- åˆ‡æ¢å½“å‰æ“ä½œçš„æ•°æ®åº“</code></pre>
<pre><code class="language-sql">drop database dbname;   -- åˆ é™¤æ•´ä¸ªæ•°æ®åº“åŠå…¶æ‰€æœ‰è¡¨ï¼Œæ“ä½œå‰éœ€ç¡®è®¤</code></pre>

<h2 id="table">ä¸‰ã€æ•°æ®è¡¨æ“ä½œ</h2>
<pre><code class="language-sql">show tables;   -- åˆ—å‡ºå½“å‰æ•°æ®åº“æ‰€æœ‰è¡¨</code></pre>
<pre><code class="language-sql">describe table_name;   -- æŸ¥çœ‹è¡¨å­—æ®µå’Œç±»å‹</code></pre>
<pre><code class="language-sql">show columns from table_name;   -- æ˜¾ç¤ºè¡¨å­—æ®µä¿¡æ¯</code></pre>
<pre><code class="language-sql">create table students (
    id int primary key auto_increment,
    name varchar(50),
    age int,
    score float
);   -- åˆ›å»º students è¡¨</code></pre>
<pre><code class="language-sql">show create table table_name;   -- æŸ¥çœ‹åˆ›å»ºè¡¨çš„å®Œæ•´ SQL</code></pre>
<pre><code class="language-sql">drop table table_name;   -- åˆ é™¤è¡¨åŠå…¶æ•°æ®</code></pre>
<pre><code class="language-sql">rename table old_name to new_name;   -- é‡å‘½åè¡¨</code></pre>
<pre><code class="language-sql">alter table table_name add column_name varchar(50);   -- æ·»åŠ æ–°åˆ—</code></pre>
<pre><code class="language-sql">alter table table_name drop column_name;   -- åˆ é™¤åˆ—</code></pre>
<pre><code class="language-sql">alter table table_name modify column_name int;   -- ä¿®æ”¹åˆ—ç±»å‹</code></pre>

<h2 id="crud">å››ã€æ•°æ®å¢åˆ æ”¹æŸ¥</h2>
<pre><code class="language-sql">insert into students (name, age, score)
values ('å¼ ä¸‰', 18, 95);   -- æ’å…¥å•è¡Œæ•°æ®</code></pre>
<pre><code class="language-sql">insert into students (name, age, score)
values ('æå››', 19, 88),
       ('ç‹äº”', 20, 92);   -- æ’å…¥å¤šè¡Œæ•°æ®</code></pre>

<pre><code class="language-sql">select * from students;   -- æŸ¥è¯¢æ‰€æœ‰æ•°æ®</code></pre>
<pre><code class="language-sql">select name, age from students;   -- æŸ¥è¯¢æŒ‡å®šå­—æ®µ</code></pre>
<pre><code class="language-sql">select * from students where age > 18;   -- æ¡ä»¶æŸ¥è¯¢</code></pre>
<pre><code class="language-sql">select * from students where name like 'å¼ %';   -- æ¨¡ç³ŠæŸ¥è¯¢</code></pre>
<pre><code class="language-sql">select * from students order by score desc;   -- æŒ‰ score å€’åºæ’åº</code></pre>
<pre><code class="language-sql">select * from students limit 5;   -- è¿”å›å‰5æ¡è®°å½•</code></pre>
<pre><code class="language-sql">select count(*) from students;   -- ç»Ÿè®¡è¡Œæ•°</code></pre>
<pre><code class="language-sql">select avg(score) from students;   -- è®¡ç®—å¹³å‡åˆ†</code></pre>
<pre><code class="language-sql">select age, count(*) from students group by age;   -- æŒ‰å¹´é¾„åˆ†ç»„ç»Ÿè®¡æ•°é‡</code></pre>
<pre><code class="language-sql">select age, count(*) from students group by age having count(*) > 2;   -- åˆ†ç»„è¿‡æ»¤</code></pre>

<pre><code class="language-sql">update students set score = 98 where name = 'å¼ ä¸‰';   -- æ›´æ–°æŒ‡å®šå­—æ®µ</code></pre>
<pre><code class="language-sql">update students set age = 20, score = 90 where id = 1;   -- æ›´æ–°å¤šå­—æ®µ</code></pre>

<pre><code class="language-sql">delete from students where id = 5;   -- åˆ é™¤æŒ‡å®šè¡Œ</code></pre>
<pre><code class="language-sql">delete from students;   -- åˆ é™¤æ‰€æœ‰æ•°æ®ï¼Œä½†ä¿ç•™è¡¨ç»“æ„</code></pre>
<pre><code class="language-sql">truncate table students;   -- æ¸…ç©ºè¡¨æ•°æ®ï¼ˆé€Ÿåº¦æ›´å¿«ï¼‰</code></pre>

<h2 id="index">äº”ã€ç´¢å¼•æ“ä½œ</h2>
<pre><code class="language-sql">create index idx_name on students(name);   -- åˆ›å»ºç´¢å¼•ï¼ŒåŠ å¿«æŸ¥è¯¢</code></pre>
<pre><code class="language-sql">show index from students;   -- æŸ¥çœ‹è¡¨ç´¢å¼•ä¿¡æ¯</code></pre>
<pre><code class="language-sql">drop index idx_name on students;   -- åˆ é™¤ç´¢å¼•</code></pre>

<h2 id="user">å…­ã€ç”¨æˆ·æƒé™ç®¡ç†</h2>
<pre><code class="language-sql">create user 'user1'@'%' identified by 'password';   -- åˆ›å»ºæ–°ç”¨æˆ·</code></pre>
<pre><code class="language-sql">grant all privileges on dbname.* to 'user1'@'%';   -- æˆäºˆæƒé™</code></pre>
<pre><code class="language-sql">flush privileges;   -- åˆ·æ–°æƒé™ï¼Œä½¿ä¿®æ”¹ç”Ÿæ•ˆ</code></pre>
<pre><code class="language-sql">drop user 'user1'@'%';   -- åˆ é™¤ç”¨æˆ·</code></pre>

<h2 id="import">ä¸ƒã€æ•°æ®å¯¼å…¥å¯¼å‡º</h2>
<pre><code class="language-bash">mysqldump -u root -p dbname > backup.sql   -- å¯¼å‡ºæ•°æ®åº“åˆ°æ–‡ä»¶</code></pre>
<pre><code class="language-bash">mysql -u root -p dbname < backup.sql   -- ä»æ–‡ä»¶å¯¼å…¥æ•°æ®åº“</code></pre>

<h2 id="status">å…«ã€ç³»ç»Ÿä¿¡æ¯æŸ¥è¯¢</h2>
<pre><code class="language-sql">select database();   -- å½“å‰æ‰€åœ¨æ•°æ®åº“</code></pre>
<pre><code class="language-sql">select version();   -- MySQL ç‰ˆæœ¬</code></pre>
<pre><code class="language-sql">select user();   -- å½“å‰ç”¨æˆ·</code></pre>

</div>
<footer>Â© 2025 æˆ‘çš„æµ‹è¯•ç½‘ç«™</footer>
</body>
</html>
